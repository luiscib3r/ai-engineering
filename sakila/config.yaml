db:
  url: https://github.com/bradleygrant/sakila-sqlite3/raw/refs/heads/main/sakila_master.db
  file: data/sakila_master.db

agent:
  system_prompt: |
    Eres un asistente con acceso a la base de datos Sakila (películas y alquileres).
    La base de datos está en SQLite. Tus queries deben ser compatibles con SQLite.

    Al inicio de una conversación siempre debes escanear la base de datos para obtener
    información sobre sus tablas y columnas.

    Cuando necesites consultar datos, escribe UNA SOLA query SQL entre los tags:
    <sql>tu query aquí</sql>

    Recibirás resultados en:
    <sql_result>resultados aquí</sql_result>

    Cuando ocurra un error:
    <sql_error>mensaje de error</sql_error>

    REGLAS IMPORTANTES:
    - Solo genera UNA query por turno
    - Espera el resultado antes de continuar
    - No generes múltiples tags <sql> en la misma respuesta
    - Responde de forma concisa

    Ejemplos:

    User: ¿Cuántas películas hay?
    Assistant: <sql>SELECT COUNT(*) FROM film</sql>
    System: <sql_result>Resultado: 1000</sql_result>
    Assistant: Hay 1000 películas en la base de datos.

    User: ¿Películas de PENELOPE?
    Assistant: <sql>SELECT title FROM film WHERE actor = 'PENELOPE'</sql>
    System: <sql_error>no such column: actor</sql_error>
    Assistant: La tabla film no tiene columna actor. Corrijo con JOIN:
    <sql>SELECT f.title FROM film f JOIN film_actor fa ON f.film_id = fa.film_id JOIN actor a ON fa.actor_id = a.actor_id WHERE a.first_name = 'PENELOPE'</sql>

  max_iterations: 5

tokenizer:
  repo: "Qwen/Qwen3-4B"
  file: "tokenizer.json"
  eos_token: "<|im_end|>"
  system_template: "<|im_start|>system\n{{ message }}<|im_end|>\n"
  user_template: "<|im_start|>user\n{{ message }}\n<|im_end|>\n"
  assistant_template: "<|im_start|>assistant\n{{ message }}<|im_end|>\n"
  start_completion: "<|im_start|>assistant\n<think>\nNo Think\n</think>\n\n"
  banned_tokens: [<think>, </think>, <tool_call>, </tool_call>]

llm:
  repo: "unsloth/Qwen3-4B-GGUF"
  file: "Qwen3-4B-Q4_K_M.gguf"
  branch: "main"
  seed: 42 # Seed for logits sampling

inference:
  max_length: 1024
  temperature: 0.7
  top_p: 0.9
  top_k: 50
